.sidebar-feed{
  position: fixed;
  background: alpha($black, .3);
  height: 100vh;
  width: 400px;
  right: 0;
  top: 0;
  opacity: .5;
  $duration:.15s;
  transition: $duration ease-in-out;
  transform: translateX(calc(100% - 100px));
  overflow: hidden scroll;

  // Проверка на опцию ВКЛ / ВЫКЛ блюра фона
  @if ($backdropFilter) {
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  // Анимации при наведении
  &:hover{
    background: alpha($black, .7);
    opacity: 1;
    transform: translateX(0);
    &::before{
      width: 100%;
    }
  }

  // Анимация при отсутствии наведения
  &:not(:hover) {
    // Скрыть заголовки разделов
    .sidebar-feed__section-heading{
      opacity: 0;
      transition: $duration ease-in-out;
    }
    // Полностью скрыть прочитанные уведомления
    .sidebar-feed__notice-item_read{
      padding-top: 0;
      padding-bottom: 0;
      opacity: 0;
      height: 0;
    }
    // Частично скрыть непрочитанные уведомления
    .sidebar-feed__notice-item:not(.sidebar-feed__notice-item_read){
      color: transparent;
      height: 88px;
      text-shadow: 3px 3px transparent;

      // Отобразить превьюшки непрочитанных уведомлений
      &::before{
        opacity: .3;
      }
      &::after{
        opacity: 1;
      }

      // Скрыть внутренние элементы
      span{
        opacity: 0;
        transition: $duration ease-in-out;
      }
    }

    .sidebar-feed__friend-list{
      li:not(:first-of-type){
        margin-top: 2px;
      }
    }
    // Изменить отступы
    .sidebar-feed__friend-item {
      background: var(--background);
      padding: 12px 18px;


    }

    // Скрыть блок с пользователем
    .sidebar-feed__friend-item__user{
      opacity: 0;
      transition: $duration ease-in-out;
    }
  }

  // Стилизация скроллбара
  &::-webkit-scrollbar {
    background: var(--gray-800);
    width: 10px;
  }
  &::-webkit-scrollbar-thumb {
    background: var(--gray-700);
  }
  &::-webkit-scrollbar-thumb:hover {
    background: var(--gray-600);
  }

  // Динамический задний фон
  &::before{
    content:'';
    position: absolute;
    //background: alpha(#000, .7);
    height: 100%;
    width: 0;
    top: 0;
    right: 0;
    transition: $duration ease-in-out;
    z-index: 0;
  }

  // Секция сайдбара
  &__section{
    position: relative;
    padding: 40px 0 0;
    z-index: 1;

    // Заголовок
    &-heading{
      margin: 0 0 20px;
      padding: 0 30px;
      font-size: 21px;
      color: $white;
      text-shadow: 3px 3px $white-shadow;

      // Для цветового выделения
      &-gray{
        color: $gray;
        text-shadow: 3px 3px $gray-shadow;
      }
      &-gold{
        color: $gold;
        text-shadow: 3px 3px $gold-shadow;
      }
      &-aqua{
        color: $aqua;
        text-shadow: 3px 3px $aqua-shadow;
      }
    }
  }

  // Всё что связано с уведомлениями
  &__notice{
    // Список уведомлений
    &-list{
      list-style: none;
    }

    // Уведомление
    &-item{
      --background: #{alpha($white, .1)};
      --color: #{$white};
      --shadow: #{$white-shadow};

      position: relative;
      background: var(--background);
      height: 111px;
      padding: 15px 30px;
      line-height: 1.4;
      font-size: 14px;
      color: var(--color);
      transition: $duration ease-in-out;
      text-shadow: 2px 2px var(--shadow);
      box-sizing: border-box;
      overflow: hidden;

      // Отступы между уведомлениями
      &:not(:first-of-type){
        margin-top: 2px;
      }

      // Превьюшки на сайдбаре, когда он скрыт
      &::before,
      &::after{
        content: '';
        display: block;
        position: absolute;
        border-radius: 5px;
        background: var(--shadow);
        height: 64px;
        width: 64px;
        left: 18px;
        top: 12px;
        opacity: 0;
        z-index: 1;
      }
      // Значок "+1"
      &::after{
        content: '+1';
        background: unset;
        line-height: 64px;
        font-size: 28px;
        color: var(--color);
        text-shadow: 4px 4px var(--shadow);
        text-align: center;
        z-index: 2;
      }

      // Модификаторы цвета
      &_primary{
        --background: #{alpha($blue, .2)};
        --color: #{$aqua};
        --shadow: #{$blue};
      }
      &_success{
        --background: #{alpha($green, .2)};
        --color: #{$green};
        --shadow: #{$green-shadow};
      }
      &_danger{
        --background: #{alpha($red, .2)};
        --color: #{$red};
        --shadow: #{$red-shadow};
      }

      &_warning{
        --background: #{alpha($gold, .2)};
        --color: #{$gold};
        --shadow: #{$gold-shadow};
      }

      // Модификаторы состояния
      &_read{
        opacity:.4;
      }
    }

    // Время прибытия уведомления
    &-meta{
      display: block;
      margin: 5px 0 0;
      color: $gray;
      text-shadow: 2px 2px $gray-shadow;
    }

    // Статус "прочитано"
    &-status{
      display: inline-block;
      background: $gray-shadow;
      padding: 0 5px;
      text-transform: uppercase;
    }
  }

  // Всё что связано с друзьями
  &__friend{
    // Список друзей
    &-list{
      list-style: none;
      padding: 0 0 30px;
    }
    &-item{
      --background: #{alpha($white, .1)};

      display: grid;
      background: transparent;
      grid-template-columns: auto 1fr;
      grid-gap: 15px;
      padding: 8px 30px;
      //transition: $duration ease-in-out;

      &:hover{
        cursor: pointer;
        background: var(--background);
      }

      // Блок с аватаром пользователя
      &__avatar{
        border-radius: 5px;
        background: var(--background);
        padding: 4px;
        width: 64px;
        height: 64px;

        // Голова скина
        &-image{
          display: block;
          object-position: center;
          object-fit: contain;
          width: 100%;
          height: 100%;
        }
      }

      // Блок с информацией о пользователе
      &__user{
        line-height: 22px;
        font-size: 16px;
        color: $dark-gray;
        padding: 10px 0;
        text-shadow: 3px 3px $dark-gray-shadow;

        // Ник пользователя
        &-nickname{

        }

        // Статус пользователя
        &-status{

        }
      }

      // Состояние "В сети"
      &_online{
        --background: #{alpha($aqua, .2)};

        .sidebar-feed__friend-item__user-nickname{
          color: $gray;
          text-shadow: 3px 3px $gray-shadow;
        }
        .sidebar-feed__friend-item__user-status{
          color: $aqua;
          text-shadow: 3px 3px $aqua-shadow;
        }
      }
      // Состояние "Поблизости"
      &_near{
        --background: #{alpha($gold, .2)};

        .sidebar-feed__friend-item__user-nickname{
          color: $gray;
          text-shadow: 3px 3px $gray-shadow;
        }
        .sidebar-feed__friend-item__user-status{
          color: $gold;
          text-shadow: 3px 3px $gold-shadow;
        }
      }
    }
  }
}